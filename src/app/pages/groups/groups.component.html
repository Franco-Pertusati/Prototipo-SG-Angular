<head>
  <link rel="stylesheet" href="./groups.component.css">
</head>

<div class="productsMagnament">
  <div class="productsMagnamentNav windowDetails">
    <button class="navBtn" (click)="selectTab('Grupos')">Productos</button>
    <button class="navBtn" (click)="selectTab('Ingredientes')">Ingredientes</button>
    <button class="navBtn" (click)="selectTab('wasd')">Combos</button>
    <button class="navBtn" (click)="selectTab('Ingr')">Descuentos</button>
  </div>
  <div class="productsMagnamentMain">
    <div class="groupsWindow" *ngIf="selectedTab === 'Grupos'" class="groupsWindow">
      <div class="productsMagnamentList windowDetails">
        <input class="mb10" type="text" placeholder="Filtrar por grupos">
        <div class="placeholderTutorial" *ngIf="groups().length < 1">Hola! Antes de empezar, a√±ade un grupo.</div>
        <div class="group mb10" [class.unabled]="!group.enabled" *ngFor="let group of groups(); index as i">
          <!--ITEM DE GRUPO-->
          <span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-caret-right-fill" viewBox="0 0 16 16">
              <path
                d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
            </svg>
          </span>
          <input type="text" [value]="group.name" *ngIf="group.editingName"
            (keydown.enter)="updateGroupName(i, $event)">
          <p>{{ group.name }}</p>
          <span (click)="changeGroupBool(i)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
              class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
              <path
                d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" />
            </svg>
          </span>
          <div class="moreGroupOptions windowDetails" *ngIf="group.optionsDisplayed">
            <button class="listBtn mb10" (click)="activeRenameInput(i);" (click)="changeGroupBool(i)">Renombrar</button>
            <button class="listBtn mb10" (click)="deleteGroup(i)">Eliminar</button>
            <button class="listBtn" (click)="updateGroupDisponibility(i)"><span
                *ngIf="!group.enabled">Habilitar</span><span *ngIf="group.enabled">Deshabilitar</span></button>
          </div>
        </div>
      </div>
      <div class="productsMagnamentPanel">
        <div class="windowDetails mb10">
          <p class="mb10">Crear nuevo grupo</p>
          <div class="inputAndConfirm mb10">
            <input type="text" placeholder="Nombre del grupo" [formControl]="newItemNameCtrl"
              (keydown.enter)="changeHandler($event)">
            <button (click)="changeHandler($event)">+</button>
          </div>
        </div>
        <div class="windowDetails">
          <p class="mb10">Crear nuevo producto</p>
          <input type="text" placeholder="Nombre del producto" class="mb10">
          <input type="text" placeholder="Precio del producto" class="mb10">
          <input type="text" placeholder="Codigo del producto" class="mb10">
          <select name="" id="" class="mb10">
            <option *ngFor="let group of groups(); index as i" value="{{i}}">{{group.name}}</option>
          </select>
          <button class="listBtn">Crear</button>
        </div>
      </div>
      <div class="windowDetails codeee">
        {{groups() | json }}
      </div>
    </div>
    <div class="ingredientsWindow" *ngIf="selectedTab === 'Ingredientes'" class="groupsWindow">Ingredientes</div>
  </div>
</div>